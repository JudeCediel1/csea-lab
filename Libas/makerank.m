function [w1,tie,s] = makerank(vectorgenau)% MAKERANK make ranks with ties% MAKERANK(vector) where vector is a vector% w1 is a vector with ranks with ties in the original order of values as vector% if tie = 1 then a tie in exixts% Rouine is based on the Book Numerical Recipies in C% berücksichtigt nur 4 Stellen nach dem Kommaj=1;n = length(vectorgenau);tie = 0;s=0;vector = runde(vectorgenau,100);temp = sort(vector);w = sort(vector);while(j < n)   if(w(j+1) ~= w(j))      w(j)=j;      j = j+1;   else      for jt=(j+1):n         if (w(jt) ~= w(j)) break;         end;      end;      rank=0.5*(j+jt-1);      for ji=j:(jt-1)         w(ji)=rank;      end;      t=jt-j;      s = s+(t*t*t-t);      j=jt;      tie = 1;   end;end;if(j==n)   w(n)=n;end;%% Make original order of valuesfor i=1:n   for z=1:n      if(vector(i) == temp(z))         w1(i) = w(z); break;      end;   end;end;            