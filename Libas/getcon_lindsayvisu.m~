% getcon_ssvepfaces% searches condnumberes in *dat file generarted by ssvepfaces filefunction [errorpercentmat, contentvec] = getcon_lindsayvisu(filepath);contentvec = []; fid = fopen(filepath);count = 1;a = 1;% distractor categorieshigh_aro = [2095 2120 2130 2717 3022 3030 3230 3550 4604 4608 4656 4668 4669 6190 6250 6313 6315 6560 8193 9403 ]; low_aro = [2038 2101 2102 2107 2190 2222 2304 2320 2370 2393 2395 2397 2411 2440  2441 2480 2570 2580  2840 2890];	 while a > 0	     a = fgetl(fid)          if a < 0, break, return, end 	indexvecjpg = findstr(a, '.jpg');   if length(indexvecjpg) == 4,        indexpic = indexvecjpg(4);    else        indexpic = findstr(a, '.JPG');   end     num1_1 = (a(indexvecjpg(1)-3));   num2_1 = (a(indexvecjpg(1)-1));   proc_1 = a(indexvecjpg(1)-2);         if proc_1 == 't', operator_1 = '*';        elseif proc_1 == 'm', operator_1 = '-';        elseif proc_1 == 'p', operator_1 = '+';         else error('hmmmm'), end               num1_2 = (a(indexvecjpg(2)-3));   num2_2 = (a(indexvecjpg(2)-1));   proc_2 = a(indexvecjpg(2)-2);            if proc_2 == 't', operator_2 = '*';         elseif proc_2 == 'm', operator_2 = '-';         elseif proc_2 == 'p', operator_2 = '+';         else error('hmmmm'), end       num1_3 = (a(indexvecjpg(3)-3));   num2_3 = (a(indexvecjpg(3)-1));   proc_3 = a(indexvecjpg(3)-2)  ;       if proc_3 == 't', operator_3 = '*';         elseif proc_3 == 'm', operator_3 = '-';         elseif proc_3 == 'p', operator_3 = '+';          else error('hmmmm'), end 		 resultmat(count,1) = eval([num1_1 operator_1 num2_1]) ; resultmat(count,2) = eval([num1_2 operator_2 num2_2]) ; resultmat(count,3) = eval([num1_3 operator_3 num2_3]) ;  str2num(a(indexpic+5:indexpic+9)) a(indexpic+5:length(a)) str2num(a(indexpic+5:length(a))) answermat(count, [1:3]) = str2num(a(indexpic+5:indexpic+9));  % pull out information 4 EEG picstring = a(indexpic-4:indexpic-1)      if ismember(str2num(picstring),low_aro), contentvec = [contentvec 1];  elseif ismember(str2num(picstring),high_aro), contentvec = [contentvec 2];  else contentvec = [contentvec 3];  end   count = count + 1;      end % end loop over lines (=trials)fclose('all')incorrectindices = find(answermat ~= resultmat);tempmat = ones(55,3); tempmat(incorrectindices) = 0; tempvec = sum(tempmat'); lineindex_error = find(tempvec ~= 3)'contentvec = contentvec';hist(contentvec)conditionerrorvec = contentvec(lineindex_error)errorpercent_low = length(find(conditionerrorvec == 1))./20;errorpercent_high = length(find(conditionerrorvec == 2))./20;errorpercent_tone = length(find(conditionerrorvec == 3))./15;errorpercentmat = [errorpercent_low errorpercent_high errorpercent_tone]  eval(['save ' filepath '.con contentvec -ascii'])     