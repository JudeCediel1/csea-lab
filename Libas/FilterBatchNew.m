%==================================================================%==================================================================%%	FilterBatch.m%%	Markus Junghoefer	[1999]%%%	Function definition%	%%%%%=================================================================function [] = FilterBatchNew(FileMat)%==================================================================NFiles = size(FileMat,1)%===============FilterFile====================================SampRateTmp=250;ChLowPassFilt=0;ChHighPassFilt=1;HighDefFreqsMat=[SampRateTmp 2 0.1];HighDefRipMat=[.1 1];LowDefFreqsMat=[SampRateTmp 20 25]; LowDefRipMat=[3 45];[ChLowPassFilt,LowB,LowA,ChHighPassFilt,HighB,HighA,LowFreqsMat,HighFreqsMat] =...GetHighLowFiltCoeff(SampRateTmp,HighDefFreqsMat,HighDefRipMat,LowDefFreqsMat,LowDefRipMat,...ChLowPassFilt,ChHighPassFilt);if ChLowPassFilt | ChHighPassFilt	for FileInd=1:NFiles		[NoUse,NoUse,FilePath]=GetFileNameOfMat(FileMat,FileInd);		[AvgMat,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...		SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec]=ReadAvgFile(FilePath);		[NChan,NPoints]=size(AvgMat);		if SampRate==SampRateTmp;			if ChLowPassFilt				for i=1:NChan					AvgMat(i,:)=(filtfilt(LowB,LowA,AvgMat(i,:)'))';				end			end			if ChHighPassFilt				for i=1:NChan					AvgMat(i,:)=(filtfilt(HighB,HighA,AvgMat(i,:)'))';				end			end		end		SaveAvgFile([FilePath '.f'],AvgMat,NTrialAvgVec,StdChanTimeMat,SampRate,MedMedRawVec,MedMedAvgVec);	endend