% gruppiert elektroden und/oder Zeitpukte aus 129 sa file in beliebig viele Gruppen%clearfunction [diffmat] = findmaxdiff(filemat)if nargin < 1, % 1.) variablen:filemat = [];% 2.) filenamenarray erzeugen[nrfiles, filemat, Pathname, NameList] = readfilenamesAS;endnrfiles = size(filemat, 1); disp (' !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')disp (' !!!!!!!!!!!!! only one time point must be in sa file !!!!!!!!!!')disp (' !!!!!!!!!! only two clusters of electrodes are possible !!!!!!!')disp (' !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')disp (' ')% 3.) files oeffnen und bearbeitenfor fileindex = 1 : nrfileseval(['vollmat = load (''' filemat(fileindex, :) ''')']);disp('file size:')disp(size(vollmat))disp(' ')disp('file index: ')disp(fileindex)% 2.) inputvariablen  if fileindex == 1	nrvp = input ('number of subjects ?      ')	nrgrups = 1	disp('number of electrode groups to subtract from should be 2      ')		suffix = input ('suffix for groupfilename   ?    ','s')	grupmat = zeros (nrvp,nrgrups)			% vectoren einlesen und als vector1 vector2 ... ablegen	 	for c = 1 : nrgrups 		 		elvec = input ('enter vector containing electrode numbers [order: left to right / ant to post] ' ) 	 		 	end% 		  end    % beginne eigentlichen Gruppierungsprozess							elvec ;			dummymat = vollmat(:,elvec);		% berechnet max innerhalb eines clusters	diffmat = [];		  dummycount = 2;	    		for dummy1 = 1 : length(elvec)-1;						for dummy2 = dummycount:length(elvec);								diffmat = [diffmat dummymat(:, dummy1)-dummymat(:, dummy2)];							end						dummycount = dummycount + 1;					end				indvecmax = find(max(diffmat'))				%grupmat = abs(grupmat(:, 1) - grupmat(:,2))   % berechnet mean diff zwischen zwei cluster	rad2grad(grupmat)		colonvec = find(filemat(1,:) == ':');	grupdatei = ([filemat(fileindex, max(colonvec)+1:length(filemat(fileindex,:))) suffix]); 	%[File, Path] = uiputfile('ubies:iapsgam:fuer_stats:*')	disp ('saving file:'), disp (grupdatei)     	eval (['save  elnino:tmpstats:' grupdatei	' grupmat -ascii'])	grupmat = zeros(nrvp,nrgrups);end