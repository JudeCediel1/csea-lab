% Output matrix in *.avr-file-format% matrix: data matrix% name: complete name for the *.avr-file (with extension)% TSB: First latency value% DI: Sampling interval (not sample rate!)% Bins/microvolt and scaling are constant=1% OH 15.12.97function write_avr(matrix, name, TSB, DI);if nargin==1 | isempty(name),		% No name specified	[filename, pathname] = uigetfile('*.*', 'Choose in which file to store the matrix!');	name = sprintf('%s%s', pathname, filename);end;[m n] = size(matrix);	 % Write matrix with given dimensionsfid = fopen(name, 'w');fprintf(fid, 'Npts= %d  TSB= %f  DI= %f  SB= 1.000  SC= 1.0\n', n, TSB, DI);for i=1:m,	for j=1:n,		fprintf(fid, '%g ', matrix(i,j));	end;	fprintf(fid, '\n');end;fclose(fid);return;