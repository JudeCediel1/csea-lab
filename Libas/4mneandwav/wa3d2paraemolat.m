% wa3d2parabatch% calls wa3d2para for conditionsfunction [] = get_para_emolat(timevec, freqvec)condvec = ['1'; '2'; '3';'4'; '5'; '7'];timevecMAT = [500:700];freqvecMAT = [1 2;3 4; 5 6; 7 8; 9 10; 11 12; 13 14; 15 16; 17 18; 19 20; 21 22];  vps = ['02';'05';'07';'09';'10';'11';'14';'15';'16';'17'];%parmat = zeros(10,13,5);%parmatEX = zeros(10,5,13);%parmatSP = zeros(10,5,13);parmat = zeros(length(freqvecMAT(:, 1)), length(vps(:, 1)));sensorvec = [1:129]; 	for cond = 1 : 3          	for vpindex = 1 : size(vps,1)                   vp = vps(vpindex,:);		   file = [ 'vp' num2str(vp) condvec(cond, :) '.E1.appg.wa.mat'];		   path = ['F:\operant_neu\'];   		eval(['load ' path file]);         bslcorrMat = bslcorrwamat(AvgWaPower, [50:100]);                  	for timeindex = 1 : length(timevecMAT(:,1))      					for freqindex = 1 : length(freqvecMAT(:,1))                    parmat(freqindex, vpindex)  = wa3d2para(bslcorrMat, sensorvec, timevecMAT(timeindex, :), freqvecMAT(freqindex, :));       				         			end %freq      		end %time   			         end %vps                  eval(['save 'path 'SAallelcs800msnach' condvec(cond, :) ' parmat -ascii'])               end % conditions                              