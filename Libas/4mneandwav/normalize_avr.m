% normalize FileToNormalize by dividing by the GlobalFieldPower of NormalizerFile% this is the McCarthy&Wood 1985 Correction iff the NormalizerFile is the % GrandMean over all subjects of the conditionfunction [cool] = normalize_avr(FileToNormalize, NormalizerFile, OutputFile); [indata , latencies] = read_avr(FileToNormalize);[normalizerdata] = read_avr(NormalizerFile);% number of channels to be included for gfp;noofchnls = 129;gfpofnormalizer = zeros(1,size(normalizerdata,2));    for j = 1:size(normalizerdata,2),  for i = 1:noofchnls,     gfpofnormalizer(j)= gfpofnormalizer(j)+(normalizerdata(i,j)*normalizerdata(i,j));  end;end;gfpofnormalizer= sqrt(gfpofnormalizer/noofchnls);for j = 1:size(normalizerdata,2),  for i = 1:size(normalizerdata,1)   outdata (i,j) = indata (i,j) ./ gfpofnormalizer(j);   %disp (gfpofnormalizer(j));  end;end;if length(latencies)>1, interval=latencies(2)-latencies(1); else, interval=1; end;write_avr(outdata, OutputFile, latencies(1), interval);