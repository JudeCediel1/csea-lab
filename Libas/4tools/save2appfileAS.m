function [NewFileFid] = save2appfileAS(appFilePath, Version, LHeader, ScaleBins, NChan, NPoints, NTrials,SampRate, chAvgRef, actTrial, data); 		%--------------------------------------	% open new file 	%--------------------------------------	if actTrial == 1	NewFileFid = fopen([appFilePath], 'w')     	fwrite(NewFileFid,Version,'int16');	fwrite(NewFileFid,LHeader,'int16');	fwrite(NewFileFid,ScaleBins,'int16');	fwrite(NewFileFid,NChan, 'int16');	fwrite(NewFileFid,NPoints,'int16');	fwrite(NewFileFid,NTrials,'int16');	fwrite(NewFileFid,SampRate,'int16');	fwrite(NewFileFid,chAvgRef,'int16');	AppTell=ftell(NewFileFid);	ZeroVec=zeros(LHeader-AppTell,1);	fwrite(NewFileFid,ZeroVec,'int8');	SeekStatus=fseek(NewFileFid,LHeader+NChan.*NPoints.*(actTrial-1).*2,-1)	fwrite(NewFileFid, data' .*ScaleBins, 'int16');		else		NewFileFid = fopen([appFilePath], 'a')  		SeekStatus=fseek(NewFileFid,LHeader+NChan.*NPoints.*(actTrial-1).*2,-1)		fwrite(NewFileFid, data' .*ScaleBins, 'int16');		end	if actTrial==NTrials; fclose(NewFileFid); NewFileFid=[]; end