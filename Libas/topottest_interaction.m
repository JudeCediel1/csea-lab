% topottest% determines t-values for topographies interaction by subtraction of 2-1% versus 4-3 -> ttest of the differences% filemat1 and filemat2 are matrices of filenames for participants in a% given condition, created by getfilesindir% filemat3 and filemat4 are matrices of filenames % % -bslvec os vactor of sample points to be subtracted. can be empty [ ] function [topo_tmat, mat3d_1, mat3d_2] = topottest_interaction(filemat1, filemat2, filemat3, filemat4, bslvec)[a,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...	SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec,EegMegStatus,...    NChanExtra,TrigPoint,HybridFactor,HybridDataCell,DataTypeVal]=ReadAvgFile(deblank(filemat1(1,:))); mat3d_1 = zeros(size(a,1), size(a,2), size(filemat1,1) ); mat3d_2 = zeros(size(a,1), size(a,2), size(filemat1,1) ); mat3d_3 = zeros(size(a,1), size(a,2), size(filemat1,1) ); mat3d_4 = zeros(size(a,1), size(a,2), size(filemat1,1) ); for subject = 1:size(filemat1,1);        a = ReadAvgFile(deblank(filemat1(subject,:)));        if ~isempty (bslvec)    mat3d_1(:,:, subject) = bslcorr(a, bslvec);    else       mat3d_1(:,:, subject) = a;    end              b = ReadAvgFile(deblank(filemat2(subject,:)));           if ~isempty (bslvec)        mat3d_2(:,:, subject) = bslcorr(b, bslvec);       else          mat3d_2(:,:, subject) = b;       end           c = ReadAvgFile(deblank(filemat3(subject,:)));           if ~isempty (bslvec)        mat3d_3(:,:, subject) = bslcorr(c, bslvec);       else          mat3d_3(:,:, subject) = c;       end             d = ReadAvgFile(deblank(filemat4(subject,:)));           if ~isempty (bslvec)        mat3d_4(:,:, subject) = bslcorr(d, bslvec);       else          mat3d_4(:,:, subject) = d;       endendDiff1 = mat3d_2 - mat3d_1; Diff2 = mat3d_4 - mat3d_3; [dummy, dummy, dummy, stats] = ttest(Diff1, Diff2, 0.05, [], 3); topo_tmat = stats.tstat; SaveAvgFile('Ttest.at.ar',topo_tmat,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor);     