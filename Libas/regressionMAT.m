% regression% compute linear regression and subtracts regression from input % vectorfunction[OutMat] = regressionMAT(InMat)OutMat = zeros(size(InMat));% make sure InMat has electrodes as rows		dummy = size(InMat);	if dummy(1) ~= 129 && dummy(1) ~= 257 && dummy(1) ~= 32 && dummy(1) ~= 31 &&  dummy(1) ~= 64 && dummy(1) ~= 128 && dummy(1) ~= 16 && dummy(1) ~= 350				error('Matrix seems to have strange size - check nr of sensors !!!!!')	end	X = [ones(1,dummy(2));1:dummy(2)]';			for channel = 1 : size(InMat,1)				regkoefs = pinv(X' * X) * (X' * InMat(channel, :)');                		reggerade = [1:dummy(2)].*regkoefs(2,1) + regkoefs(1,1);		OutMat(channel, :) = InMat(channel, :) - reggerade;			end	     	 