% topottestfunction [topo_tmat, mat3d_1, mat3d_2] = topottest_between(filemat1, filemat2, path1, path2, bslvec, outname)if nargin < 6    outname = []; end[a,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...	SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec,EegMegStatus,...    NChanExtra,TrigPoint,HybridFactor,HybridDataCell,DataTypeVal]=ReadAvgFile(deblank([path1 '/' filemat1(1,:)])); mat3d_1 = zeros(size(a,1), size(a,2), size(filemat1,1) ); mat3d_2 = zeros(size(a,1), size(a,2), size(filemat2,1) ); for subject = 1:size(filemat1,1);       a = ReadAvgFile(deblank([path1 '/' filemat1(subject,:)]));        if ~isempty (bslvec)    mat3d_1(:,:, subject) = bslcorr(a, bslvec);    else       mat3d_1(:,:, subject) = a;    endendfor subject = 1:size(filemat2,1);        b = ReadAvgFile(deblank([path2 '/' filemat2(subject,:)]));           if ~isempty (bslvec)        mat3d_2(:,:, subject) = bslcorr(b, bslvec);       else          mat3d_2(:,:, subject) = b;       endendsize(mat3d_2), size(mat3d_1),[dummy, dummy, dummy, stats] = ttest2(mat3d_2, mat3d_1, 0.05, [], [], 3); topo_tmat = stats.tstat; if isempty(outname); SaveAvgFile('Ttestbetween.at.ar',topo_tmat,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor); else    SaveAvgFile(outname, topo_tmat,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor); end        