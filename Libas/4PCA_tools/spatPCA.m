% spat% computes spatial PCA% => assumes that time samples % are observations and electrodes are variables function [compmat, Varvec, inMat] = spatPCA(inMat);if nargin < 1	dirname = input('folder with atg.ar files        ');	[filemat, namelist, dirname] = getfilesindir(dirname);	for fileIndex = 1 : size(filemat, 1); 		a = ReadAvgFile(filemat(fileIndex, :));		if fileIndex == 1;			inMat = a';		else			inMat = [inMat; a'];		end			endend[U, S, compmat] = svds(inMat);Varvec = (diag(S)).^2/sum(diag(S).^2);