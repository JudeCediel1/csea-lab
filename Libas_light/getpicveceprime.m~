% getcondveceprime% searches picnumbers in e-prime *.txt file% just enter [picvec] = getpicveceprime(filepath);% in command window such as for instance [picvec] = getpicveceprime('ssvep-1-1.txt');% and a column vector picvec will appear, containing all the picnames in% the right order
% this vector will be written to a file with same basename and ending of .pics - good luck!function [picvec, contentvec123] = getpicveceprime(filepath);picvec = [];RTvec = [];fid = fopen(filepath)a = 1;	 while a > 0	a = fgets(fid); 	index1 = findstr(a, 'picturename: '); 		if ~isempty (index1);             str2num(a(index1+13:index1+16));		picvec = [picvec str2num(a(index1+13:index1+16))];		end endpicvec = picvec'contentvec123 = []; for index = 1:size(picvec,1);     if picvec(index) < 1440, contentvec123(index) = 3;     elseif picvec(index) > 1439 & picvec(index) < 1921, contentvec123(index) = 1;    elseif picvec(index) > 1920 & picvec(index) < 3000, contentvec123(index) = 2;     elseif picvec(index) > 2999 & picvec(index) < 3401, contentvec123(index) = 3;    elseif picvec(index) > 4610 & picvec(index) < 4695, contentvec123(index) = 1;    elseif picvec(index) > 4695 & picvec(index) < 7551, contentvec123(index) = 2;     endend    contentvec123 = contentvec123'% outname1 = [filepath '.pic.txt']% eval(['save ' outname1 ' picvec -ascii']);% outname2 = [filepath '.cat.txt']% eval(['save ' outname2 ' contentvec123 -ascii']);outmat = [];firstvector = 0:361;firstvector =firstvector';size(firstvector)secondvector = zeros(362,1);secondvector(1:6:362) = 1;thirdvector = zeros(362,1);thirdvector(1:6:360) = contentvec123(;thirdvector(2:6:360) = contentvec123;thirdvector(3:6:360) = contentvec123;thirdvector(4:6:360) = contentvec123;thirdvector(5:6:360) = contentvec123;thirdvector(6:6:360) = contentvec123;outmat = [firstvector secondvector thirdvector]outname3 = [filepath '.all.txt']%eval(['save ' outname3 ' outmat -ascii']);dlmwrite(outname3,outmat,'\t')fclose('all')