% topocorrelation% determines correlation maps for topographies % function [topocorrmat] = topocorrelation2(filemat1, filemat2, bslvec, datavec)[a,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...	SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec,EegMegStatus,...    NChanExtra,TrigPoint,HybridFactor,HybridDataCell,DataTypeVal]=ReadAvgFile(deblank(filemat1(1,:))); a = a(:,datavec);topocorrmat = [];for subject = 1:size(filemat1,1);        a = readavgfile(deblank(filemat1(subject,:)));    if ~isempty(bslvec), a = bslcorr(a, bslvec); end   a = a(:,datavec);          b = readavgfile(deblank(filemat2(subject,:)));        if ~isempty(bslvec), b = bslcorr(b, bslvec); end    b = b(:,datavec);           for sensor = 1:size(a,1);            temp = corrcoef(a(sensor,:), b(sensor,:));            topocorrvec_temp(sensor) = temp(1,2);        end    topocorrmat = [topocorrmat topocorrvec_temp']; endSaveAvgFile('corrallsubjects.at.ar',topocorrmat,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor); topomatfishZ = 0.5*log((1+topocorrmat)./(1-topocorrmat));SaveAvgFile('corrallsubjectsFishz.at.ar',topomatfishZ,NTrialAvgVec,StdChanTimeMat, ...    SampRate,MedMedRawVec,MedMedAvgVec,EegMegStatus,NChanExtra,TrigPoint,HybridFactor);     