% built_safile% ruft fuer gegebene subjects eine funktion auf, die fuer jede% elektrode einen parameter berechnet% SA format vp als zeilen, conds nebeneinander %============================================================% 1. experiment description %===========================================================disp (' neu')nrsubjects = input('how many subjects    ?    ');disp(' ')nrcond = input('how many conditions   ?     ');subjectcode = input('overall subject code   ?    ','s');path = input('set path to data  folder [as a string]' );subjectvec = [ '02'; '03'; '05'; '06'; '07'; '09' ; '10';  '11'; '13';'14';'15';'16';'17'; '18';'19'];%subjectvec = ['02']condvec = ['1'; '2'; '3';'4'; '5'; '6';'7'; '8']%cond = input('select condition (1,2,3)    ');if nrsubjects ~= size(subjectvec,1), disp('error! incorrect number of subjects'), return, endSuVAmatampfft_bsl = zeros(nrsubjects, 129);SuVAmatphas_bsl = zeros(nrsubjects, 129);SuVamatFourier_bsl = zeros(nrsubjects, 129);SuVAmatampfft_let = zeros(nrsubjects, 129);SuVAmatphas_let = zeros(nrsubjects, 129);SuVamatFourier_let = zeros(nrsubjects, 129);%===========================================================%start Analysis%===========================================================winmatGMsum_bsl = [];winmatGMsum_let = [];for cond = 1 : length (condvec)for vp = 1 : nrsubjects            file = ([subjectcode subjectvec(vp,:) 'at' condvec(cond,:) '.ar']);			FilePath = ([path file]);						[tenHZampfft_bslflick, Phasevec_bslflick, winmat_bslflick, FourierCompVec_bslflick, ...  tenHZampfft_letflick, Phasevec_letflick, winmat_letflick, FourierCompVec_letflick] = stead2ampLett(FilePath);						% baselineflicker  	  SuVAmatampfft_bsl(vp,:) = tenHZampfft_bslflick;	  SuVAmatphas_bsl(vp,:) = Phasevec_bslflick;	  SuVAmatFourier_bsl(vp,:) = FourierCompVec_bslflick;	  	  winmatname_bsl = (['vp' subjectvec(vp,:) '.' condvec(cond,:) 'bsl.win']);	  	 % disp ('saving file'), disp(winmatname_bsl)	 % eval(['save Elnino:temp:winmats:' winmatname_bsl ' winmat_bslflick -ascii'])	  	  % letterflicker	  SuVAmatampfft_let(vp,:) = tenHZampfft_letflick;	  SuVAmatphas_let(vp,:) = Phasevec_letflick;	  SuVAmatFourier_let(vp,:) = FourierCompVec_letflick;	  	  winmatname_let = (['vp' subjectvec(vp,:) '.' condvec(cond,:) 'let.win']);	  	 % disp ('saving file'), disp(winmatname_let)	%  eval(['save Elnino:temp:winmats:' winmatname_let ' winmat_letflick -ascii'])	  	if vp == 1	winmatGMsum_bsl = winmat_bslflick;	winmatGMsum_let = winmat_letflick;	else		winmatGMsum_bsl = winmatGMsum_bsl + winmat_bslflick;	winmatGMsum_let = winmatGMsum_let + winmat_letflick;		endend	winmatGM_let = winmatGMsum_let ./nrsubjects;winmatGM_bsl = winmatGMsum_bsl ./nrsubjects;winmatnameGM_let = (['GM' condvec(cond,:) 'let.win']);winmatnameGM_bsl = (['GM' condvec(cond,:) 'bsl.win']);eval(['save Elnino:temp:winmats:' winmatnameGM_let ' winmatGM_let -ascii'])eval(['save Elnino:temp:winmats:' winmatnameGM_bsl ' winmatGM_bsl -ascii'])%=============================================================% speichere parameter%=============================================================% baseline flickfnameampfft_bsl = (['ampliFFT129_SA_bsl' condvec(cond,:)])fnamephase_bsl = (['phase129_SA_bsl' condvec(cond,:)])fnameFourier_bsl = (['Fouriercomp129_bsl' condvec(cond,:)])% eval(['save elnino:temp:chan129res:' fnameampfft_bsl ' SuVAmatampfft_bsl -ascii'])% disp ('saving file'), disp(fnameampfft_bsl)% % eval(['save elnino:temp:chan129res:' fnamephase_bsl ' SuVAmatphas_bsl -ascii'])% disp ('saving file'), disp(fnamephase_bsl)% % eval(['save elnino:temp:chan129res:' fnameFourier_bsl ' SuVAmatFourier_bsl'])% disp ('saving file'), disp(fnameFourier_bsl)% letter flickfnameampfft_let = (['ampliFFT129_SA_let' condvec(cond,:)])fnamephase_let = (['phase129_SA_let' condvec(cond,:)])fnameFourier_let = (['Fouriercomp129_let' condvec(cond,:)])% eval(['save elnino:temp:chan129res:' fnameampfft_let ' SuVAmatampfft_let -ascii'])% disp ('saving file'), disp(fnameampfft_let)% % eval(['save elnino:temp:chan129res:' fnamephase_let ' SuVAmatphas_let -ascii'])% disp ('saving file'), disp(fnamephase_let)% % eval(['save elnino:temp:chan129res:' fnameFourier_let ' SuVAmatFourier_let'])% disp ('saving file'), disp(fnameFourier_let)end