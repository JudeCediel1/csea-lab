%==================================================================%==================================================================%%	FilterBatch.m%%	Markus Junghoefer	[1999]%%%	Function definition%%%%%%=================================================================%==================================================================global hPlot2dMenuFighPlot2dMenuFig=[];[NFiles,FileMat]=ReadFileNames([],'*.at*','Choose *.at* file(s):');if NFiles==0; return; end%===============FilterFile====================================SampRateTmp=200;ChLowPassFilt=1;ChHighPassFilt=0;HighDefFreqsMat=[SampRateTmp 2 0];HighDefRipMat=[3 25];LowDefFreqsMat=[SampRateTmp 8 12];LowDefRipMat=[3 45];[ChLowPassFilt,LowB,LowA,ChHighPassFilt,HighB,HighA,LowFreqsMat,HighFreqsMat] = ...GetHighLowFiltCoeff(SampRateTmp,HighDefFreqsMat,HighDefRipMat,LowDefFreqsMat,LowDefRipMat,...ChLowPassFilt,ChHighPassFilt);if ChLowPassFilt | ChHighPassFilt	for FileInd=1:NFiles		[NoUse,NoUse,FilePath]=GetFileNameOfMat(FileMat,FileInd);		[AvgMat,File,Path,FilePath,NTrialAvgVec,StdChanTimeMat,...		SampRate,AvgRef,Version,MedMedRawVec,MedMedAvgVec]=ReadAvgFile(FilePath);			[NChan,NPoints]=size(AvgMat);		if SampRate==SampRateTmp;			if ChLowPassFilt				for i=1:NChan	AvgMat(i,:)=(filtfilt(LowB,LowA,AvgMat(i,:)'))';				end			end			if ChHighPassFilt				for i=1:NChan	AvgMat(i,:)=(filtfilt(HighB,HighA,AvgMat(i,:)'))';				end			end		end		SaveAvgFile([FilePath '.f'],AvgMat,NTrialAvgVec,StdChanTimeMat,SampRate,MedMedRawVec,MedMedAvgVec);	endend