%==================================================================%%	ReadAppDataas.m%%	Markus Junghoefer	[1996]%   changed by Andreas ; )%%%	%	Function definition	function [Data,Version,LHeader,ScaleBins,NChan,NPoints,NTrials,SampRate,ch_AvgRef]=...	ReadAppDataas(FilePath,ActTrial,ActChan);	%=================================================================if nargin<3;ActChan=[];end;if nargin<2;ActTrial=1;end;if nargin<1;FilePath=[];end;	[File,Path,FilePath]=ReadFilePath(FilePath,'*.app*','Please choose an app file:');	FileFid=fopen(FilePath,'r');Version=fread(FileFid,1,'int16');LHeader=fread(FileFid,1,'int16');ScaleBins=fread(FileFid,1,'int16');NChan=fread(FileFid,1,'int16');NPoints=fread(FileFid,1,'int16');NTrials=fread(FileFid,1,'int16');SampRate=fread(FileFid,1,'int16');ch_AvgRef=fread(FileFid,1,'int16');if ActTrial>NTrials; 	error('ActTrial>NTrials in ReadAppData'); elseif ActChan>NChan	error('ActChan>NChan in ReadAppData'); end		if ~isempty(ActChan)	SeekStatus=fseek(FileFid,LHeader+((ActTrial-1).*NChan+(ActChan-1)).*NPoints.*2,-1);	if SeekStatus==-1; error('fseek1 error in ReadAppData'); end					Data=fread(FileFid,NPoints,'int16');else	SeekStatus=fseek(FileFid,LHeader+(ActTrial-1).*NChan.*NPoints.*2,-1);	if SeekStatus==-1; error('fseek2 error in ReadAppData'); end					Data=fread(FileFid,[NPoints, NChan],'int16');endreturn;