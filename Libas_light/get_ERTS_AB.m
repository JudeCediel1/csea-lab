function [Korrekt_T2givenT1] = get_ERTS_AB(filename)fid = fopen(filename)% dummylinesdumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);dumline = fgetl(fid);line = 1index = 1			while line > 0				% read data				line = fgets(fid);		if length(line) <5, break, return, end				trialnum = str2num(line(29:31));				%if trialnum ~= index, error('falsch'), end				RTvecKey1(index) = str2num(line(38:44));		RTvecKey2(index) = str2num(line(46:52));				T1_vec(index) = double(line(54));		T2_vec(index) = double(line(61));				trial_art = line(76:82);				% infer conditions				% 1=LAG1-A, 2=LAG3-A, 3=LAG5-A, 4=LAG1-N, 5=LAG3-N, 6=LAG5-N, 		% 7=LAG1-U, 8=LAG3-U, 9=LAG5-U 				if trial_art == 'LAG1-A1', condition_vec(index) = 1;		elseif trial_art == 'LAG1-A2', condition_vec(index) = 1;		elseif trial_art == 'LAG3-A1', condition_vec(index) = 2;		elseif trial_art == 'LAG3-A2', condition_vec(index) = 2;		elseif trial_art == 'LAG5-A1', condition_vec(index) = 3;		elseif trial_art == 'LAG5-A2', condition_vec(index) = 3;			elseif trial_art == 'LAG1-N1', condition_vec(index) = 4;		elseif trial_art == 'LAG1-N2', condition_vec(index) = 4;		elseif trial_art == 'LAG3-N1', condition_vec(index) = 5;		elseif trial_art == 'LAG3-N2', condition_vec(index) = 5;		elseif trial_art == 'LAG5-N1', condition_vec(index) = 6;		elseif trial_art == 'LAG5-N2', condition_vec(index) = 6;		elseif trial_art == 'LAG1-U1', condition_vec(index) = 7;		elseif trial_art == 'LAG1-U2', condition_vec(index) = 7;		elseif trial_art == 'LAG3-U1', condition_vec(index) = 8;		elseif trial_art == 'LAG3-U2', condition_vec(index) = 8;						else condition_vec(index) = 9;		end						index = index + 1;				% for correctflag	endstatmat = [condition_vec' RTvecKey1' RTvecKey2' T1_vec' T2_vec'];% infer correctI1=find(statmat(:,1)==1);lag1A=statmat(I1,:);I2=find(statmat(:,1)==2);lag3A=statmat(I2,:);I3=find(statmat(:,1)==3);lag5A=statmat(I3,:);I4=find(statmat(:,1)==4);lag1N=statmat(I4,:);I5=find(statmat(:,1)==5);lag3N=statmat(I5,:);I6=find(statmat(:,1)==6);lag5N=statmat(I6,:);I7=find(statmat(:,1)==7);lag1U=statmat(I7,:);I8=find(statmat(:,1)==8);lag3U=statmat(I8,:);I9=find(statmat(:,1)==9);lag5U=statmat(I9,:);solution_T1_lag1A = [69 69 72 72 77	79	65	75	65	66	77	83	75	66	82 84	76	71	90	70	70	83	65	68	68	71	65	83	66	83]';Ia=find(lag1A(:,4)==solution_T1_lag1A(:,1) | lag1A(:,5)==solution_T1_lag1A(:,1));Korrekt_T1_lag1A=size(Ia,1)/30*100;solution_T1_lag1N = [68	83	66	68	83	76	65	65	84	71	70	90	71	83	70 82 72	65	79	75	66	77	69	83	72	75	66	77	65	69]';Ib=find(lag1N(:,4)==solution_T1_lag1N(:,1) | lag1N(:,5)==solution_T1_lag1N(:,1));Korrekt_T1_lag1N=size(Ib,1)/30*100;solution_T1_lag1U = [77	69	79	82	65	77	66	75	72	65	75	69	66	72	83 65	83	83	70	76	71	71	90	68	84	65	70	83	66	68]';Ic=find(lag1U(:,4)==solution_T1_lag1U(:,1) | lag1U(:,5)==solution_T1_lag1U(:,1));Korrekt_T1_lag1U=size(Ic,1)/30*100;solution_T1_lag3A = [82	72	65	79	77	69	75	83	66	75	72	77	66	65	69	83	68	66	68	76	83	65	65	84	71	70	71	90	83	70]';Id=find(lag3A(:,4)==solution_T1_lag3A(:,1) | lag3A(:,5)==solution_T1_lag3A(:,1));Korrekt_T1_lag3A=size(Id,1)/30*100;solution_T1_lag3N = [79	82	75	65	66	83	72	69	72	65	77	66	69	77	75	68	90	70	65	83	71	66	70	83	84	83	71	76	65	68]';Ie=find(lag3N(:,4)==solution_T1_lag3N(:,1) | lag3N(:,5)==solution_T1_lag3N(:,1));Korrekt_T1_lag3N=size(Ie,1)/30*100;solution_T1_lag3U = [90	68	83	83	71	71	70	66	65	70	65	83	76	68	84	72	69	66	72	79	75	77	66	69	82	83	75	65	65	77]';If=find(lag3U(:,4)==solution_T1_lag3U(:,1) | lag3U(:,5)==solution_T1_lag3U(:,1));Korrekt_T1_lag3U=size(If,1)/30*100;solution_T1_lag5A = [75	65	77	75	69	72	72	77	65	69	66	83	79	82	66	70	65	83	68	66	68	90	84	71	83	71	76	83	65	70]';Ig=find(lag5A(:,4)==solution_T1_lag5A(:,1) | lag5A(:,5)==solution_T1_lag5A(:,1));Korrekt_T1_lag5A=size(Ig,1)/30*100;solution_T1_lag5N = [76	71	68	65	70	90	83	66	71	68	83	84	70	65	83	75	65	77	82	72	65	69	75	77	66	72	69	79	66	83]';Ih=find(lag5N(:,4)==solution_T1_lag5N(:,1) | lag5N(:,5)==solution_T1_lag5N(:,1));Korrekt_T1_lag5N=size(Ih,1)/30*100;solution_T1_lag5U = [75	66	79	83	82	72	69	77	75	65	66	72	65	69	77	68	83	71	83	83	90	65	76	68	66	70	71	70	65	84]';Ii=find(lag5U(:,4)==solution_T1_lag5U(:,1) | lag5U(:,5)==solution_T1_lag5U(:,1));Korrekt_T1_lag5U=size(Ii,1)/30*100;solution_T2_lag1A = [75	83	83	84	84	71	83	70	66	65	83	76	70	86	69	69	83	86	66	69	74	74	70	66	66	66	86	76	75	66]';Ij=find(lag1A(:,5)==solution_T2_lag1A(:,1) | lag1A(:,4)==solution_T2_lag1A(:,1));Korrekt_T2_lag1A=size(Ij,1)/30*100;a = 0;n = 1;while length(Ij) >= n      z = Ij(n) == Ia;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag1A=a/size(Ia,1)*100;solution_T2_lag1N = [75	66	69	83	65	83	83	83	70	86	69	66	66	77	77	66	82	66	83	65	77	78	83	76	70	83	77	76	71	65]';Ik=find(lag1N(:,5)==solution_T2_lag1N(:,1) | lag1N(:,4)==solution_T2_lag1N(:,1));Korrekt_T2_lag1N=size(Ik,1)/30*100;a = 0;n = 1;while length(Ik) >= n      z = Ik(n) == Ib;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag1N=a/size(Ib,1)*100;solution_T2_lag1U = [83	90	77	70	75	86	83	80	69	80	82	87	83	86	84	86	65	81	76	80	72	68	85	83	86	83	83	77	65	77]';Il=find(lag1U(:,5)==solution_T2_lag1U(:,1) | lag1U(:,4)==solution_T2_lag1U(:,1));Korrekt_T2_lag1U=size(Il,1)/30*100;a = 0;n = 1;while length(Il) >= n      z = Il(n) == Ic;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag1U=a/size(Ic,1)*100;solution_T2_lag3A = [70	84	83	84	75	83	86	65	69	70	83	66	83	76	71	66	74	75	74	86	66	66	76	66	66	83	69	69	70	86]';Im=find(lag3A(:,5)==solution_T2_lag3A(:,1) | lag3A(:,4)==solution_T2_lag3A(:,1));Korrekt_T2_lag3A=size(Im,1)/30*100;a = 0;n = 1;while length(Im) >= n      z = Im(n) == Id;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag3A=a/size(Id,1)*100;solution_T2_lag3N = [69	83	83	66	83	66	66	65	77	70	83	69	86	75	77	82	70	83	71	65	66	83	66	77	83	76	78	65	77	76]';In=find(lag3N(:,5)==solution_T2_lag3N(:,1) | lag3N(:,4)==solution_T2_lag3N(:,1));Korrekt_T2_lag3N=size(In,1)/30*100;a = 0;n = 1;while length(In) >= n      z = In(n) == Ie;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag3N=a/size(Ie,1)*100;solution_T2_lag3U = [75	83	84	70	80	77	83	80	86	90	86	82	69	87	83	68	76	83	86	83	81	83	77	85	72	65	86	80	77	65]';Io=find(lag3U(:,5)==solution_T2_lag3U(:,1) | lag3U(:,4)==solution_T2_lag3U(:,1));Korrekt_T2_lag3U=size(Io,1)/30*100;a = 0;n = 1;while length(Io) >= n      z = Io(n) == If;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag3U=a/size(If,1)*100;solution_T2_lag5A = [66	75	70	84	84	70	69	86	76	83	83	65	83	83	71	69	66	66	86	74	66	83	76	86	75	74	70	69	66	66]';Ip=find(lag5A(:,5)==solution_T2_lag5A(:,1) | lag5A(:,4)==solution_T2_lag5A(:,1));Korrekt_T2_lag5A=size(Ip,1)/30*100;a = 0;n = 1;while length(Ip) >= n      z = Ip(n) == Ig;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag5A=a/size(Ig,1)*100;solution_T2_lag5N = [69	83	83	69	75	77	77	83	70	83	86	66	66	66	65	66	83	76	83	82	71	83	70	65	77	76	66	78	77	65]';Iq=find(lag5N(:,5)==solution_T2_lag5N(:,1) | lag5N(:,4)==solution_T2_lag5N(:,1));Korrekt_T2_lag5N=size(Iq,1)/30*100;a = 0;n = 1;while length(Iq) >= n      z = Iq(n) == Ih;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag5N=a/size(Ih,1)*100;solution_T2_lag5U = [83	86	75	86	87	80	84	83	83	90	70	80	69	77	82	65	68	76	65	77	83	85	83	72	80	83	81	86	86	77]';Ir=find(lag5U(:,5)==solution_T2_lag5U(:,1) | lag5U(:,4)==solution_T2_lag5U(:,1));Korrekt_T2_lag5U=size(Ir,1)/30*100;a = 0;n = 1;while length(Ir) >= n      z = Ir(n) == Ii;    n = n + 1;    if sum(z) > 0,     a = a + 1; endendKorrekt_T2givenT1_lag5U=a/size(Ii,1)*100;Korrekt = [1 2 3 4 5 6 7 8 9;Korrekt_T1_lag1A Korrekt_T1_lag1N Korrekt_T1_lag1U Korrekt_T1_lag3A Korrekt_T1_lag3N...Korrekt_T1_lag3U Korrekt_T1_lag5A Korrekt_T1_lag5N Korrekt_T1_lag5U;...Korrekt_T2_lag1A Korrekt_T2_lag1N Korrekt_T2_lag1U Korrekt_T2_lag3A Korrekt_T2_lag3N...Korrekt_T2_lag3U Korrekt_T2_lag5A Korrekt_T2_lag5N Korrekt_T2_lag5U]';Korrekt_T1=Korrekt(:,2)'Korrekt_T2andT1=Korrekt(:,3)'Korrekt_T2givenT1 = [Korrekt_T2givenT1_lag1A Korrekt_T2givenT1_lag1N Korrekt_T2givenT1_lag1U Korrekt_T2givenT1_lag3A Korrekt_T2givenT1_lag3N...Korrekt_T2givenT1_lag3U Korrekt_T2givenT1_lag5A Korrekt_T2givenT1_lag5N Korrekt_T2givenT1_lag5U]hold on, plot(Korrekt_T2givenT1(1:3), 'r')hold on, plot(Korrekt_T2givenT1(4:6), 'b')hold on, plot(Korrekt_T2givenT1(7:9), 'k')ylabel('Prozent Korrekt')xlabel('Angenehm - Neutral - Unangenehm')axis([1 3 0 100])eval(['save ' filename(1:3) '_T1  Korrekt_T1'])eval(['save ' filename(1:3) '_T2andT1  Korrekt_T2andT1'])eval(['save ' filename(1:3) '_T2givenT1  Korrekt_T2givenT1'])fclose('all')